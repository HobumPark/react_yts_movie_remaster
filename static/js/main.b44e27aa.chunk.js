(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{27:function(e,t,s){},29:function(e,t,s){},30:function(e,t,s){},32:function(e,t,s){},33:function(e,t,s){},52:function(e,t,s){"use strict";s.r(t);var r=s(1),n=s.n(r),i=s(19),a=s.n(i),c=(s(27),s(10)),o=s.n(c),l=s(20),h=s(3),u=s(4),p=s(6),v=s(5),j=(s(29),s(30),s(0)),d=function(e){Object(p.a)(s,e);var t=Object(v.a)(s);function s(e){var r;return Object(h.a)(this,s),(r=t.call(this,e)).setCurrentPage=function(e){alert(e),r.props.setCurrentPage(e)},r.prevPage=function(){var e=r.props.currentPage;1!==e?r.props.setCurrentPage(e-1):alert("\uc774\ub3d9\ubd88\uac00!")},r.nextPage=function(){var e=r.props.currentPage,t=r.props,s=t.movieLen,n=t.postsPerPage;e!==Math.ceil(s/n)?r.props.setCurrentPage(e+1):alert("\uc774\ub3d9\ubd88\uac00!")},r.state={loading:r.props.loading,movieLen:r.props.movieLen,postsPerPage:r.props.postsPerPage},r}return Object(u.a)(s,[{key:"render",value:function(){var e=this,t=[],s=this.props,r=s.movieLen,n=s.postsPerPage;console.log("pn:"+r),console.log("pn:"+n);for(var i=1;i<=Math.ceil(r/n);i++)t.push(i);console.log(t);var a=t.map((function(t){return Object(j.jsx)("span",{class:"page",onClick:function(){return e.setCurrentPage(t)},children:t})}));return Object(j.jsx)("div",{id:"Pagination",children:Object(j.jsxs)("div",{id:"page_list",children:[Object(j.jsx)("span",{class:"page",onClick:this.prevPage,children:"<"}),a,Object(j.jsx)("span",{class:"page",onClick:this.nextPage,children:">"})]})})}}]),s}(r.Component),g=(s(32),function(e){Object(p.a)(s,e);var t=Object(v.a)(s);function s(e){return Object(h.a)(this,s),t.call(this,e)}return Object(u.a)(s,[{key:"render",value:function(){var e=Object(j.jsxs)("div",{id:"movie_genre",children:["genre:",this.props.genres.map((function(e){return Object(j.jsx)("span",{className:"genre",children:e})}))]});return Object(j.jsxs)("div",{id:"movie_posts",children:[Object(j.jsx)("div",{id:"movie_left",children:Object(j.jsxs)("div",{id:"left_comp",children:[Object(j.jsx)("span",{className:"cover_back",children:Object(j.jsx)("img",{src:this.props.medium_cover_image})}),Object(j.jsxs)("span",{className:"down",children:[Object(j.jsx)("img",{src:"/images/download.png",alt:"\ub2e4\uc6b4\ub85c\ub4dc"}),"Download"]})]})}),Object(j.jsx)("div",{id:"movie_right",children:Object(j.jsxs)("div",{id:"right_comp",children:[Object(j.jsx)("div",{className:"movie_title",children:this.props.title}),Object(j.jsx)("div",{className:"movie_year",children:this.props.year}),e,Object(j.jsxs)("div",{className:"movie_time",children:[this.props.runtime,"min"]}),Object(j.jsxs)("div",{className:"movie_rating",children:[Object(j.jsx)("img",{src:"/images/star.png"}),this.props.rating,"/10"]}),Object(j.jsx)("div",{class:"movie_summary",children:this.props.summary})]})})]},this.props.id)}}]),s}(r.Component)),m=function(e){Object(p.a)(s,e);var t=Object(v.a)(s);function s(e){var r;return Object(h.a)(this,s),(r=t.call(this,e)).state={loading:r.props.loading,movieList:r.props.movieList},r}return Object(u.a)(s,[{key:"render",value:function(){var e=this.props,t=e.loading,s=e.movieList;return Object(j.jsxs)("div",{className:"MovieList",children:[t&&Object(j.jsx)("div",{children:" loading... "}),Object(j.jsx)("div",{children:s.map((function(e){return Object(j.jsx)(g,{medium_cover_image:e.medium_cover_image,title:e.title,year:e.year,genres:e.genres,runtime:e.runtime,rating:e.rating,summary:e.summary},e.id)}))})]})}}]),s}(r.Component),b=s(21),O=(s(33),function(e){Object(p.a)(s,e);var t=Object(v.a)(s);function s(e){var r;return Object(h.a)(this,s),(r=t.call(this,e)).searchMovie=function(){alert("search movie!(SeachComp)");var e=r.state.searchText;alert("search:"+e),r.props.searchMovie(e),r.setState({searchText:""})},r.handleChange=function(e){r.setState(Object(b.a)({},e.target.name,e.target.value))},r.searchAllMovie=function(){r.props.searchAllMovie(),r.setState({searchText:""})},r.state={searchText:""},r}return Object(u.a)(s,[{key:"render",value:function(){return Object(j.jsxs)("div",{id:"search-comp",children:[Object(j.jsx)("input",{type:"text",placeholder:"search for a movie...",onChange:this.handleChange,name:"searchText"}),Object(j.jsx)("button",{id:"search-btn",onClick:this.searchMovie,children:"Search"}),Object(j.jsx)("button",{id:"search-all-btn",onClick:this.searchAllMovie,children:"All"})]})}}]),s}(r.Component)),x=s(22),f=s.n(x),P=function(e){Object(p.a)(s,e);var t=Object(v.a)(s);function s(e){var r;return Object(h.a)(this,s),(r=t.call(this,e)).getMovies=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.get("https://yts.mx/api/v2/list_movies.json");case 2:t=e.sent,console.log(t),r.setState({movieList:t.data.data.movies});case 5:case"end":return e.stop()}}),e)}))),r.setCurrentPage=function(e){alert(e),r.setState({currentPage:e})},r.searchMovie=function(e){alert("search movie!(App)"),alert("search:"+e),r.setState({search:e})},r.searchAllMovie=function(){r.setState({search:null})},r.currentPosts=function(e){var t=r.state,s=t.currentPage,n=t.postsPerPage,i=s*n,a=i-n;return e.slice(a,i)},r.state={movieList:[],search:null,loading:!1,currentPage:1,postsPerPage:3},r}return Object(u.a)(s,[{key:"componentDidMount",value:function(){this.getMovies()}},{key:"render",value:function(){var e=this.state,t=e.movieList,s=e.loading,r=e.postsPerPage,n=e.currentPage,i=e.search;if(null==i)return Object(j.jsxs)("div",{className:"App",children:[Object(j.jsx)(O,{searchMovie:this.searchMovie,searchAllMovie:this.searchAllMovie}),Object(j.jsx)(m,{movieList:this.currentPosts(t),loading:s}),Object(j.jsx)(d,{postsPerPage:r,movieLen:t.length,setCurrentPage:this.setCurrentPage,currentPage:n})]});var a=t.filter((function(e){return e.title.includes(i)}));return Object(j.jsxs)("div",{className:"App",children:[Object(j.jsx)(O,{searchMovie:this.searchMovie,searchAllMovie:this.searchAllMovie}),Object(j.jsx)(m,{movieList:this.currentPosts(a),loading:s}),Object(j.jsx)(d,{postsPerPage:r,movieLen:a.length,setCurrentPage:this.setCurrentPage,currentPage:n})]})}}]),s}(r.Component),C=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,53)).then((function(t){var s=t.getCLS,r=t.getFID,n=t.getFCP,i=t.getLCP,a=t.getTTFB;s(e),r(e),n(e),i(e),a(e)}))};a.a.render(Object(j.jsx)(n.a.StrictMode,{children:Object(j.jsx)(P,{})}),document.getElementById("root")),C()}},[[52,1,2]]]);
//# sourceMappingURL=main.b44e27aa.chunk.js.map